var jsonFieldFilterHandler=function(a,n){function t(){var a=c.val()!=c.data("original")||d.val()!=d.data("original")||s.val()!=s.data("original");i.options&&(a|=r.val()!=r.data("original")),i.can_negate&&(a|=o.is(":checked")!=o.data("original")),a=a?"filter":"clear",l.html(a),e.data("action",a),e.attr("data-action",a),l.removeClass("filter").removeClass("clear").addClass(a),f=null}var i=Object.assign({negated:!1,can_negate:!0,options:"i"},n),e=django.jQuery("#"+a),l=e.find("a.button"),o=e.find("input[type=checkbox]").first(),c=e.find("input[name=key]").first(),d=e.find("input[name=value]"),r=e.find("select[name=options]"),s=e.find("select[name=type]"),a=e.find("input,select"),u=e.data("qs"),f=null;a.on("keyup",function(a){null===f&&setTimeout(t,500)}),a.on("change",function(a){t()});var v=function(){var a;return"clear"===e.data("action")?a=u:c.val()&&(a=(a=(a=u+"&"+c.data("lk")+"="+c.val())+"&"+d.data("lk")+"="+d.val())+"&"+s.data("lk")+"="+s.val(),i.options&&(a=a+"&"+r.data("lk")+"="+r.val()),i.can_negate&&(a=a+"&"+o.data("lk")+"="+o.is(":checked"))),a};this.click=function(){var a=v();a&&(location.href=a)}};