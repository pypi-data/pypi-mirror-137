(this["webpackJsonpray-dashboard-client"]=this["webpackJsonpray-dashboard-client"]||[]).push([[4],{498:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return j}));var n=a(409),c=a(476),r=a(482),i=a(470),s=a(483),o=(a(0),a(1)),l=Object(n.a)((function(e){return{search:{margin:e.spacing(1),marginTop:0}}})),d=function(e){var t=e.label,a=e.onChange,n=e.defaultValue,i=l();return Object(o.jsx)(c.a,{className:i.search,size:"small",label:t,InputProps:{onChange:function(e){var t=e.target.value;a&&a(t)},defaultValue:n,endAdornment:Object(o.jsx)(r.a,{position:"end",children:Object(o.jsx)(s.a,{})})}})},j=function(e){var t=e.label,a=e.onChange,n=e.options,r=l();return Object(o.jsxs)(c.a,{className:r.search,size:"small",label:t,select:!0,SelectProps:{onChange:function(e){var t=e.target.value;a&&a(t)},style:{width:100}},children:[Object(o.jsx)(i.a,{value:"",children:"All"}),n.map((function(e){return"string"===typeof e?Object(o.jsx)(i.a,{value:e,children:e}):Object(o.jsx)(i.a,{value:e[0],children:e[1]})}))]})}},499:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return e<1024?"".concat(e,"KB"):e<Math.pow(1024,2)?"".concat((e/Math.pow(1024,1)).toFixed(2),"KB"):e<Math.pow(1024,3)?"".concat((e/Math.pow(1024,2)).toFixed(2),"MB"):e<Math.pow(1024,4)?"".concat((e/Math.pow(1024,3)).toFixed(2),"GB"):e<Math.pow(1024,5)?"".concat((e/Math.pow(1024,4)).toFixed(2),"TB"):e<Math.pow(1024,6)?"".concat((e/Math.pow(1024,5)).toFixed(2),"TB"):""}},500:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(461),c=(a(0),a(1)),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:28;return Object(c.jsx)(n.a,{title:e,interactive:!0,children:Object(c.jsx)("span",{children:e.length>t?e.slice(0,t)+"...":e})})}},501:function(e,t,a){"use strict";var n=a(10),c=a(7),r=a(476),i=a(482),s=a(466),o=a(464),l=a(465),d=a(463),j=a(467),b=a(89),u=a(483),h=a(491),p=a(488),m=a(0),O=a.n(m),x=a(64),v=a(73),g=a(500),f=a(102),y=a(503),k=a(100),w=a(505),N=a(1);t.a=function(e){var t=e.actors,a=void 0===t?{}:t,C=e.workers,I=void 0===C?[]:C,M=Object(m.useState)(1),S=Object(c.a)(M,2),A=S[0],P=S[1],F=Object(f.a)(),D=F.changeFilter,R=F.filterFunc,z=Object(m.useState)(10),T=Object(c.a)(z,2),L=T[0],$=T[1],_=Object(m.useContext)(v.a).ipLogMap,B=Object.values(a||{}).map((function(e){var t,a,c,r;return Object(n.a)(Object(n.a)({},e),{},{functionDesc:Object.values((null===(t=e.taskSpec)||void 0===t||null===(a=t.functionDescriptor)||void 0===a?void 0:a.javaFunctionDescriptor)||(null===(c=e.taskSpec)||void 0===c||null===(r=c.functionDescriptor)||void 0===r?void 0:r.pythonFunctionDescriptor)||{}).join(" ")})})).filter(R),E=B.slice((A-1)*L,A*L);return Object(N.jsxs)(O.a.Fragment,{children:[Object(N.jsxs)("div",{style:{flex:1,display:"flex",alignItems:"center"},children:[Object(N.jsx)(h.a,{style:{margin:8,width:120},options:Array.from(new Set(Object.values(a).map((function(e){return e.state})))),onInputChange:function(e,t){D("state",t.trim())},renderInput:function(e){return Object(N.jsx)(r.a,Object(n.a)(Object(n.a)({},e),{},{label:"State"}))}}),Object(N.jsx)(h.a,{style:{margin:8,width:150},options:Array.from(new Set(Object.values(a).map((function(e){var t;return null===(t=e.address)||void 0===t?void 0:t.ipAddress})))),onInputChange:function(e,t){D("address.ipAddress",t.trim())},renderInput:function(e){return Object(N.jsx)(r.a,Object(n.a)(Object(n.a)({},e),{},{label:"IP"}))}}),Object(N.jsx)(r.a,{style:{margin:8,width:120},label:"PID",size:"small",InputProps:{onChange:function(e){var t=e.target.value;D("pid",t.trim())},endAdornment:Object(N.jsx)(i.a,{position:"end",children:Object(N.jsx)(u.a,{})})}}),Object(N.jsx)(r.a,{style:{margin:8,width:200},label:"Task Func Desc",size:"small",InputProps:{onChange:function(e){var t=e.target.value;D("functionDesc",t.trim())},endAdornment:Object(N.jsx)(i.a,{position:"end",children:Object(N.jsx)(u.a,{})})}}),Object(N.jsx)(r.a,{style:{margin:8,width:120},label:"Name",size:"small",InputProps:{onChange:function(e){var t=e.target.value;D("name",t.trim())},endAdornment:Object(N.jsx)(i.a,{position:"end",children:Object(N.jsx)(u.a,{})})}}),Object(N.jsx)(r.a,{style:{margin:8,width:120},label:"Actor ID",size:"small",InputProps:{onChange:function(e){var t=e.target.value;D("actorId",t.trim())},endAdornment:Object(N.jsx)(i.a,{position:"end",children:Object(N.jsx)(u.a,{})})}}),Object(N.jsx)(r.a,{style:{margin:8,width:120},label:"Page Size",size:"small",InputProps:{onChange:function(e){var t=e.target.value;$(Math.min(Number(t),500)||10)}}})]}),Object(N.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(N.jsx)("div",{children:Object(N.jsx)(p.a,{page:A,onChange:function(e,t){return P(t)},count:Math.ceil(B.length/L)})}),Object(N.jsx)("div",{children:Object(N.jsx)(y.a,{type:"actor",list:B})})]}),Object(N.jsxs)(s.a,{children:[Object(N.jsx)(o.a,{children:Object(N.jsx)(l.a,{children:["","ID(Num Restarts)","Name","Task Func Desc","Job Id","Pid","IP","Port","State","Log"].map((function(e){return Object(N.jsx)(d.a,{align:"center",children:e},e)}))})}),Object(N.jsx)(j.a,{children:E.map((function(e){var t=e.actorId,a=e.functionDesc,n=e.jobId,c=e.pid,r=e.address,i=e.state,s=e.name,o=e.numRestarts;return Object(N.jsxs)(w.a,{length:I.filter((function(e){return e.pid===c&&r.ipAddress===e.coreWorkerStats[0].ipAddress})).length,expandComponent:Object(N.jsx)(w.b,{actorMap:{},workers:I.filter((function(e){return e.pid===c&&r.ipAddress===e.coreWorkerStats[0].ipAddress})),mini:!0}),children:[Object(N.jsxs)(d.a,{align:"center",style:{color:Number(o)>0?b.a[500]:"inherit"},children:[t,"(",o,")"]}),Object(N.jsx)(d.a,{align:"center",children:s}),Object(N.jsx)(d.a,{align:"center",children:Object(g.a)(a,60)}),Object(N.jsx)(d.a,{align:"center",children:n}),Object(N.jsx)(d.a,{align:"center",children:c}),Object(N.jsx)(d.a,{align:"center",children:null===r||void 0===r?void 0:r.ipAddress}),Object(N.jsx)(d.a,{align:"center",children:null===r||void 0===r?void 0:r.port}),Object(N.jsx)(d.a,{align:"center",children:Object(N.jsx)(k.a,{type:"actor",status:i})}),Object(N.jsx)(d.a,{align:"center",children:_[null===r||void 0===r?void 0:r.ipAddress]&&Object(N.jsx)(x.b,{target:"_blank",to:"/log/".concat(encodeURIComponent(_[null===r||void 0===r?void 0:r.ipAddress]),"?fileName=").concat(n,"-").concat(c),children:"Log"})})]},t)}))})]})]})}},502:function(e,t,a){"use strict";var n=a(409),c=(a(0),a(1)),r=Object(n.a)((function(e){return{container:{background:"linear-gradient(45deg, #21CBF3ee 30%, #2196F3ee 90%)",border:"1px solid #ffffffbb",padding:"0 12px",height:18,lineHeight:"18px",position:"relative",boxSizing:"content-box",borderRadius:4},displayBar:{background:e.palette.background.paper,position:"absolute",right:0,height:18,transition:"0.5s width",borderRadius:2,borderTopLeftRadius:0,borderBottomLeftRadius:0,border:"2px solid transparent",boxSizing:"border-box"},text:{fontSize:12,zIndex:2,position:"relative",color:e.palette.text.primary,width:"100%",textAlign:"center"}}}));t.a=function(e){var t=e.num,a=e.total,n=r(),i=Math.round(t/a*100);return Object(c.jsxs)("div",{className:n.container,children:[Object(c.jsx)("div",{className:n.displayBar,style:{width:"".concat(Math.min(Math.max(0,100-i),100),"%")}}),Object(c.jsx)("div",{className:n.text,children:e.children})]})}},503:function(e,t,a){"use strict";var n=a(7),c=a(460),r=(a(0),a(100)),i=a(1);t.a=function(e){var t=e.type,a=e.list,s={};return a.forEach((function(e){var t=e.state;s[t]=s[t]+1||1})),Object(i.jsxs)(c.a,{container:!0,spacing:2,alignItems:"center",children:[Object(i.jsx)(c.a,{item:!0,children:Object(i.jsx)(r.a,{status:"TOTAL",type:t,suffix:"x ".concat(a.length)})}),Object.entries(s).map((function(e){var a=Object(n.a)(e,2),s=a[0],o=a[1];return Object(i.jsx)(c.a,{item:!0,children:Object(i.jsx)(r.a,{status:s,type:t,suffix:" x ".concat(o)})})}))]})}},504:function(e,t,a){"use strict";var n=a(421),c=a(468),r=(a(0),a(1));t.a=function(e){var t=e.loading;return Object(r.jsx)(n.a,{open:t,style:{zIndex:100},children:Object(r.jsx)(c.a,{color:"primary"})})}},505:function(e,t,a){"use strict";a.d(t,"a",(function(){return F}));var n=a(10),c=a(7),r=a(3),i=a(465),s=a(463),o=a(413),l=a(506),d=a(471),j=a(466),b=a(464),u=a(467),h=a(460),p=a(0),m=a.n(p),O=a(29),x=Object(O.a)(p.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown"),v=Object(O.a)(p.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),g=a(59),f=a.n(g),y=a(64),k=a(73),w=a(499),N=a(500),C=a(102),I=a(501),M=a(502),S=a(498),A=a(1),P=["children","expandComponent","length","stateKey"],F=function(e){var t=e.children,a=e.expandComponent,l=e.length,d=e.stateKey,j=void 0===d?"":d,b=Object(r.a)(e,P),u=m.a.useState(!1),h=Object(c.a)(u,2),O=h[0],g=h[1];return Object(p.useEffect)((function(){j.startsWith("ON")?g(!0):j.startsWith("OFF")&&g(!1)}),[j]),l<1?Object(A.jsxs)(i.a,Object(n.a)(Object(n.a)({},b),{},{children:[Object(A.jsx)(s.a,{padding:"checkbox"}),t]})):Object(A.jsxs)(m.a.Fragment,{children:[Object(A.jsxs)(i.a,Object(n.a)(Object(n.a)({},b),{},{children:[Object(A.jsx)(s.a,{padding:"checkbox",children:Object(A.jsxs)(o.a,{style:{color:"inherit"},onClick:function(){return g(!O)},children:[l,O?Object(A.jsx)(x,{}):Object(A.jsx)(v,{})]})}),t]})),O&&Object(A.jsx)(i.a,{children:Object(A.jsx)(s.a,{colSpan:24,children:a})})]})},D=function(e){var t=e.actorMap,a=e.coreWorkerStats,n={};return(a||[]).filter((function(e){return t[e.actorId]})).forEach((function(e){return n[e.actorId]=t[e.actorId]})),Object.values(n).length?Object(A.jsx)(l.a,{children:Object(A.jsx)(I.a,{actors:n})}):Object(A.jsx)("p",{children:"The Worker Haven't Had Related Actor Yet."})};t.b=function(e){var t=e.workers,a=void 0===t?[]:t,n=e.actorMap,r=e.mini,o=Object(C.a)(),l=o.changeFilter,O=o.filterFunc,x=Object(p.useState)(""),v=Object(c.a)(x,2),g=v[0],I=v[1],P=Object(p.useContext)(k.a),R=P.nodeMap,z=P.ipLogMap;return Object(A.jsxs)(m.a.Fragment,{children:[!r&&Object(A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(A.jsx)(S.a,{label:"Pid",onChange:function(e){return l("pid",e)}}),Object(A.jsx)(d.a,{onClick:function(){return I("ON".concat(Math.random()))},children:"Expand All"}),Object(A.jsx)(d.a,{onClick:function(){return I("OFF".concat(Math.random()))},children:"Collapse All"})]})," ",Object(A.jsxs)(j.a,{children:[Object(A.jsx)(b.a,{children:Object(A.jsx)(i.a,{children:["","Pid","CPU","CPU Times","Memory","CMD Line","Create Time","Log","Ops","IP/Hostname"].map((function(e){return Object(A.jsx)(s.a,{align:"center",children:e},e)}))})}),Object(A.jsx)(u.a,{children:a.filter(O).sort((function(e,t){var a=(e.coreWorkerStats||[]).filter((function(e){return n[e.actorId]})).length||0;return((t.coreWorkerStats||[]).filter((function(e){return n[e.actorId]})).length||0)-a})).map((function(e){var t=e.pid,a=e.cpuPercent,r=e.cpuTimes,i=e.memoryInfo,o=e.cmdline,l=e.createTime,j=e.coreWorkerStats,b=void 0===j?[]:j,u=e.language,p=e.ip,m=e.hostname;return Object(A.jsxs)(F,{expandComponent:Object(A.jsx)(D,{actorMap:n,coreWorkerStats:b}),length:(b||[]).filter((function(e){return n[e.actorId]})).length,stateKey:g,children:[Object(A.jsx)(s.a,{align:"center",children:t}),Object(A.jsx)(s.a,{align:"center",children:Object(A.jsxs)(M.a,{num:Number(a),total:100,children:[a,"%"]})}),Object(A.jsx)(s.a,{align:"center",children:Object(A.jsx)("div",{style:{maxHeight:55,overflow:"auto"},children:Object.entries(r||{}).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(A.jsxs)("div",{style:{margin:4},children:[a,":",n]})}))})}),Object(A.jsx)(s.a,{align:"center",children:Object(A.jsx)("div",{style:{maxHeight:55,overflow:"auto"},children:Object.entries(i||{}).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(A.jsxs)("div",{style:{margin:4},children:[a,":",Object(w.a)(n)]})}))})}),Object(A.jsx)(s.a,{align:"center",style:{lineBreak:"anywhere"},children:o&&Object(N.a)(o.filter((function(e){return e})).join(" "))}),Object(A.jsx)(s.a,{align:"center",children:f()(1e3*l).format("YYYY/MM/DD HH:mm:ss")}),Object(A.jsx)(s.a,{align:"center",children:Object(A.jsx)(h.a,{container:!0,spacing:2,children:z[p]&&Object(A.jsx)(h.a,{item:!0,children:Object(A.jsx)(y.b,{target:"_blank",to:"/log/".concat(encodeURIComponent(z[p]),"?fileName=").concat(b[0].jobId||"","-").concat(t),children:"Log"})})})}),Object(A.jsx)(s.a,{align:"center",children:"JAVA"===u&&Object(A.jsxs)("div",{children:[Object(A.jsx)(d.a,{onClick:function(){var e;window.open("#/cmd/jstack/".concat(null===(e=b[0])||void 0===e?void 0:e.ipAddress,"/").concat(t))},children:"jstack"})," ",Object(A.jsx)(d.a,{onClick:function(){var e;window.open("#/cmd/jmap/".concat(null===(e=b[0])||void 0===e?void 0:e.ipAddress,"/").concat(t))},children:"jmap"}),Object(A.jsx)(d.a,{onClick:function(){var e;window.open("#/cmd/jstat/".concat(null===(e=b[0])||void 0===e?void 0:e.ipAddress,"/").concat(t))},children:"jstat"})]})}),Object(A.jsxs)(s.a,{align:"center",children:[p,Object(A.jsx)("br",{}),R[m]?Object(A.jsx)(y.b,{target:"_blank",to:"/node/".concat(R[m]),children:m}):m]})]},t)}))})]})]})}},506:function(e,t,a){"use strict";var n=a(2),c=a(3),r=a(0),i=a(4),s=a(5),o=r.forwardRef((function(e,t){var a=e.classes,s=e.className,o=e.component,l=void 0===o?"div":o,d=Object(c.a)(e,["classes","className","component"]);return r.createElement(l,Object(n.a)({ref:t,className:Object(i.a)(a.root,s)},d))}));t.a=Object(s.a)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(o)},507:function(e,t,a){"use strict";var n=a(2),c=a(3),r=a(0),i=a(4),s=a(5),o=a(11),l=a(8),d=a(103),j=r.forwardRef((function(e,t){var a=e.classes,s=e.className,o=e.color,j=void 0===o?"secondary":o,b=e.edge,u=void 0!==b&&b,h=e.size,p=void 0===h?"medium":h,m=Object(c.a)(e,["classes","className","color","edge","size"]),O=r.createElement("span",{className:a.thumb});return r.createElement("span",{className:Object(i.a)(a.root,s,{start:a.edgeStart,end:a.edgeEnd}[u],"small"===p&&a["size".concat(Object(l.a)(p))])},r.createElement(d.a,Object(n.a)({type:"checkbox",icon:O,checkedIcon:O,classes:{root:Object(i.a)(a.switchBase,a["color".concat(Object(l.a)(j))]),input:a.input,checked:a.checked,disabled:a.disabled},ref:t},m)),r.createElement("span",{className:a.track}))}));t.a=Object(s.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(o.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(o.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(j)},522:function(e,t,a){"use strict";a.r(t);var n=a(7),c=a(3),r=a(409),i=a(460),s=a(507),o=a(487),l=a(477),d=a(506),j=a(59),b=a.n(j),u=a(0),h=a.n(u),p=a(64),m=a(501),O=a(504),x=a(502),v=a(100),g=a(101),f=a(505),y=a(499),k=a(19),w=a(15),N=a.n(w),C=a(73),I=a(105),M=a(1),S=["tags"],A=Object(r.a)((function(e){return{root:{padding:e.spacing(2)},paper:{padding:e.spacing(2),marginTop:e.spacing(2),marginBottom:e.spacing(2)},label:{fontWeight:"bold"},tab:{marginBottom:e.spacing(2)}}})),P=["local_total_resource","local_available_resource","actor_stats","task_dependency_manager_stats","reconstruction_policy_stats","scheduling_queue_stats","object_manager_stats"],F=function(e){var t,a=e.view;if(!a)return null;var n=a.tags,r=void 0===n?"":n,s=Object(c.a)(a,S);return Object(M.jsxs)(i.a,{item:!0,xs:6,children:[Object(M.jsx)("span",{children:null===(t=r.split(",").pop())||void 0===t?void 0:t.split(":").slice(1).join(":")}),"=",Object.keys(s).length>0?JSON.stringify(Object.values(s).pop()):Object(M.jsx)("span",{style:{color:"gray"},children:"null"})]})};t.default=function(e){var t,a=A(),c=function(e){var t=e.match.params,a=Object(u.useState)("info"),c=Object(n.a)(a,2),r=c[0],i=c[1],s=Object(u.useState)(),o=Object(n.a)(s,2),l=o[0],d=o[1],j=Object(u.useState)("Loading the node infos..."),b=Object(n.a)(j,2),h=b[0],p=b[1],m=Object(u.useContext)(C.a).namespaceMap,O=Object(u.useState)(!0),x=Object(n.a)(O,2),v=x[0],g=x[1],f=Object(u.useRef)(),y=Object(u.useCallback)(Object(k.a)(N.a.mark((function e(){var a,n,c,r,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(I.a)(t.id);case 4:a=e.sent,n=a.data,c=n.data,r=n.msg,i=n.result,null!==c&&void 0!==c&&c.detail&&d(c.detail),r&&p(r),!1===i&&(p("Node Query Error Please Check Node Name"),g(!1)),f.current=setTimeout(y,4e3);case 11:case"end":return e.stop()}}),e)}))),[v,t.id]),w=null===l||void 0===l?void 0:l.raylet;return Object(u.useEffect)((function(){return y(),function(){f.current&&clearTimeout(f.current)}}),[y]),{params:t,selectedTab:r,nodeDetail:l,msg:h,isRefreshing:v,onRefreshChange:function(e){g(e.target.checked)},raylet:w,handleChange:function(e,t){i(t)},namespaceMap:m}}(e),r=c.params,j=c.selectedTab,w=c.nodeDetail,S=c.msg,D=c.isRefreshing,R=c.onRefreshChange,z=c.raylet,T=c.handleChange;return Object(M.jsxs)("div",{className:a.root,children:[Object(M.jsx)(O.a,{loading:S.startsWith("Loading")}),Object(M.jsxs)(g.a,{title:"NODE - ".concat(r.id),children:[Object(M.jsx)(v.a,{type:"node",status:(null===w||void 0===w||null===(t=w.raylet)||void 0===t?void 0:t.state)||"LOADING"}),Object(M.jsx)("br",{}),"Auto Refresh:",Object(M.jsx)(s.a,{checked:D,onChange:R,name:"refresh",inputProps:{"aria-label":"secondary checkbox"}}),Object(M.jsx)("br",{}),"Request Status: ",S]}),Object(M.jsxs)(g.a,{title:"Node Detail",children:[Object(M.jsxs)(o.a,{value:j,onChange:T,className:a.tab,children:[Object(M.jsx)(l.a,{value:"info",label:"Info"}),Object(M.jsx)(l.a,{value:"raylet",label:"Raylet"}),Object(M.jsx)(l.a,{value:"worker",label:"Worker (".concat((null===w||void 0===w?void 0:w.workers.length)||0,")")}),Object(M.jsx)(l.a,{value:"actor",label:"Actor (".concat(Object.values((null===w||void 0===w?void 0:w.actors)||{}).length||0,")")})]}),w&&"info"===j&&Object(M.jsxs)("div",{className:a.paper,children:[Object(M.jsxs)(i.a,{container:!0,spacing:2,children:[Object(M.jsxs)(i.a,{item:!0,xs:!0,children:[Object(M.jsx)("div",{className:a.label,children:"Hostname"})," ",w.hostname]}),Object(M.jsxs)(i.a,{item:!0,xs:!0,children:[Object(M.jsx)("div",{className:a.label,children:"IP"})," ",w.ip]})]}),Object(M.jsxs)(i.a,{container:!0,spacing:2,children:[Object(M.jsxs)(i.a,{item:!0,xs:!0,children:[Object(M.jsx)("div",{className:a.label,children:"CPU (Logic/Physic)"})," ",w.cpus[0],"/ ",w.cpus[1]]}),Object(M.jsxs)(i.a,{item:!0,xs:!0,children:[Object(M.jsx)("div",{className:a.label,children:"Load (1/5/15min)"})," ",(null===w||void 0===w?void 0:w.loadAvg[0])&&w.loadAvg[0].map((function(e){return Number(e).toFixed(2)})).join("/")]})]}),Object(M.jsxs)(i.a,{container:!0,spacing:2,children:[Object(M.jsxs)(i.a,{item:!0,xs:!0,children:[Object(M.jsx)("div",{className:a.label,children:"Load per CPU (1/5/15min)"})," ",(null===w||void 0===w?void 0:w.loadAvg[1])&&w.loadAvg[1].map((function(e){return Number(e).toFixed(2)})).join("/")]}),Object(M.jsxs)(i.a,{item:!0,xs:!0,children:[Object(M.jsx)("div",{className:a.label,children:"Boot Time"})," ",b()(1e3*w.bootTime).format("YYYY/MM/DD HH:mm:ss")]})]}),Object(M.jsxs)(i.a,{container:!0,spacing:2,children:[Object(M.jsxs)(i.a,{item:!0,xs:!0,children:[Object(M.jsx)("div",{className:a.label,children:"Sent Tps"})," ",Object(y.a)(null===w||void 0===w?void 0:w.networkSpeed[0]),"/s"]}),Object(M.jsxs)(i.a,{item:!0,xs:!0,children:[Object(M.jsx)("div",{className:a.label,children:"Recieved Tps"})," ",Object(y.a)(null===w||void 0===w?void 0:w.networkSpeed[1]),"/s"]})]}),Object(M.jsxs)(i.a,{container:!0,spacing:2,children:[Object(M.jsxs)(i.a,{item:!0,xs:!0,children:[Object(M.jsx)("div",{className:a.label,children:"Memory"})," ",(null===w||void 0===w?void 0:w.mem)&&Object(M.jsxs)(x.a,{num:Number((null===w||void 0===w?void 0:w.mem[0])-(null===w||void 0===w?void 0:w.mem[1])),total:null===w||void 0===w?void 0:w.mem[0],children:[Object(y.a)((null===w||void 0===w?void 0:w.mem[0])-(null===w||void 0===w?void 0:w.mem[1])),"/",Object(y.a)(null===w||void 0===w?void 0:w.mem[0]),"(",null===w||void 0===w?void 0:w.mem[2],"%)"]})]}),Object(M.jsxs)(i.a,{item:!0,xs:!0,children:[Object(M.jsx)("div",{className:a.label,children:"CPU"})," ",Object(M.jsxs)(x.a,{num:Number(w.cpu),total:100,children:[w.cpu,"%"]})]})]}),Object(M.jsx)(i.a,{container:!0,spacing:2,children:(null===w||void 0===w?void 0:w.disk)&&Object.entries(null===w||void 0===w?void 0:w.disk).map((function(e){var t=Object(n.a)(e,2),c=t[0],r=t[1];return Object(M.jsxs)(i.a,{item:!0,xs:6,children:[Object(M.jsxs)("div",{className:a.label,children:["Disk (",c,")"]})," ",r&&Object(M.jsxs)(x.a,{num:Number(r.used),total:r.total,children:[Object(y.a)(r.used),"/",Object(y.a)(r.total),"(",r.percent,"%, ",Object(y.a)(r.free)," free)"]})]},c)}))}),Object(M.jsx)(i.a,{container:!0,spacing:2,children:Object(M.jsxs)(i.a,{item:!0,xs:!0,children:[Object(M.jsx)("div",{className:a.label,children:"Logs"})," ",Object(M.jsx)(p.b,{to:"/log/".concat(encodeURIComponent(w.logUrl)),children:"log"})]})})]}),z&&Object.keys(z).length>0&&"raylet"===j&&Object(M.jsx)(h.a.Fragment,{children:Object(M.jsxs)("div",{className:a.paper,children:[Object(M.jsx)(i.a,{container:!0,spacing:2,children:Object(M.jsxs)(i.a,{item:!0,xs:!0,children:[Object(M.jsx)("div",{className:a.label,children:"Command"}),Object(M.jsx)("br",{}),Object(M.jsx)("div",{style:{height:200,overflow:"auto"},children:null===w||void 0===w?void 0:w.cmdline.join(" ")})]})}),Object(M.jsxs)(i.a,{container:!0,spacing:2,children:[Object(M.jsxs)(i.a,{item:!0,xs:!0,children:[Object(M.jsx)("div",{className:a.label,children:"Pid"})," ",null===z||void 0===z?void 0:z.pid]}),Object(M.jsxs)(i.a,{item:!0,xs:!0,children:[Object(M.jsx)("div",{className:a.label,children:"Workers Num"})," ",null===z||void 0===z?void 0:z.numWorkers]}),Object(M.jsxs)(i.a,{item:!0,xs:!0,children:[Object(M.jsx)("div",{className:a.label,children:"Node Manager Port"})," ",null===z||void 0===z?void 0:z.nodeManagerPort]})]}),P.map((function(e){return z.viewData.find((function(t){return t.viewName===e}))})).map((function(e){return e?Object(M.jsxs)(h.a.Fragment,{children:[Object(M.jsx)("p",{className:a.label,children:e.viewName.split("_").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" ")}),Object(M.jsx)(i.a,{container:!0,spacing:2,style:{maxHeight:177,overflow:"auto"},children:e.measures.map((function(e){return Object(M.jsx)(F,{view:e},e.tags)}))})]},e.viewName):null}))]})}),(null===w||void 0===w?void 0:w.workers)&&"worker"===j&&Object(M.jsx)(h.a.Fragment,{children:Object(M.jsx)(d.a,{className:a.paper,children:Object(M.jsx)(f.b,{workers:null===w||void 0===w?void 0:w.workers,actorMap:null===w||void 0===w?void 0:w.actors})})}),(null===w||void 0===w?void 0:w.actors)&&"actor"===j&&Object(M.jsx)(h.a.Fragment,{children:Object(M.jsx)(d.a,{className:a.paper,children:Object(M.jsx)(m.a,{actors:w.actors,workers:null===w||void 0===w?void 0:w.workers})})})]})]})}}}]);
//# sourceMappingURL=4.c4f48ddf.chunk.js.map