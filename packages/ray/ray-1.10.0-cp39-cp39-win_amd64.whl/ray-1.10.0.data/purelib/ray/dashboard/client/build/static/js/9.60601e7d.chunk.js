(this["webpackJsonpray-dashboard-client"]=this["webpackJsonpray-dashboard-client"]||[]).push([[9],{498:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return h}));var n=a(409),c=a(476),r=a(482),o=a(470),i=a(483),l=(a(0),a(1)),s=Object(n.a)((function(e){return{search:{margin:e.spacing(1),marginTop:0}}})),d=function(e){var t=e.label,a=e.onChange,n=e.defaultValue,o=s();return Object(l.jsx)(c.a,{className:o.search,size:"small",label:t,InputProps:{onChange:function(e){var t=e.target.value;a&&a(t)},defaultValue:n,endAdornment:Object(l.jsx)(r.a,{position:"end",children:Object(l.jsx)(i.a,{})})}})},h=function(e){var t=e.label,a=e.onChange,n=e.options,r=s();return Object(l.jsxs)(c.a,{className:r.search,size:"small",label:t,select:!0,SelectProps:{onChange:function(e){var t=e.target.value;a&&a(t)},style:{width:100}},children:[Object(l.jsx)(o.a,{value:"",children:"All"}),n.map((function(e){return"string"===typeof e?Object(l.jsx)(o.a,{value:e,children:e}):Object(l.jsx)(o.a,{value:e[0],children:e[1]})}))]})}},507:function(e,t,a){"use strict";var n=a(2),c=a(3),r=a(0),o=a(4),i=a(5),l=a(11),s=a(8),d=a(103),h=r.forwardRef((function(e,t){var a=e.classes,i=e.className,l=e.color,h=void 0===l?"secondary":l,u=e.edge,p=void 0!==u&&u,b=e.size,m=void 0===b?"medium":b,j=Object(c.a)(e,["classes","className","color","edge","size"]),g=r.createElement("span",{className:a.thumb});return r.createElement("span",{className:Object(o.a)(a.root,i,{start:a.edgeStart,end:a.edgeEnd}[p],"small"===m&&a["size".concat(Object(s.a)(m))])},r.createElement(d.a,Object(n.a)({type:"checkbox",icon:g,checkedIcon:g,classes:{root:Object(o.a)(a.switchBase,a["color".concat(Object(s.a)(h))]),input:a.input,checked:a.checked,disabled:a.disabled},ref:t},j)),r.createElement("span",{className:a.track}))}));t.a=Object(i.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(l.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(l.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(h)},521:function(e,t,a){"use strict";a.r(t);var n=a(10),c=a(7),r=a(409),o=a(146),i=a(471),l=a(469),s=a(420),d=a(476),h=a(482),u=a(507),p=a(481),b=a(483),m=a(0),j=a(107),g=a(498),f=a(101),O=a(19),v=a(15),x=a.n(v),y=a(62),k=function(){var e=Object(O.a)(x.a.mark((function e(t){var a,n,c,r,o,i,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/"!==window.location.pathname&&"log_index"!==t&&(n=window.location.pathname.split("/")).length>1&&(c=n.findIndex((function(e){return e.includes(":")})))>-1&&((r=n.slice(0,c)).push(t.replace(/https?:\/\//,"")),t=r.join("/")),e.next=3,Object(y.b)("log_index"===t?t:"log_proxy?url=".concat(encodeURIComponent(t)));case 3:if(o=e.sent,null===(a=o.headers["content-type"])||void 0===a||!a.includes("html")){e.next=9;break}return(i=document.createElement("div")).innerHTML=o.data,l=[].map.call(i.getElementsByTagName("li"),(function(e){var t=e.children[0];return{name:e.innerText,href:e.innerText.includes("http")?t.href:t.pathname}})),e.abrupt("return",l);case 9:return e.abrupt("return",o.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=a(1),C=Object(r.a)((function(e){return{root:{padding:e.spacing(2),width:"100%"},table:{marginTop:e.spacing(4),padding:e.spacing(2)},pageMeta:{padding:e.spacing(2),marginTop:e.spacing(2)},search:{margin:e.spacing(1)}}}));t.default=function(e){var t=C(),a=function(e){var t=e.match.params,a=e.location.search,n=e.theme,r=t.host,o=t.path,i=new URLSearchParams(a),l=i.get("fileName"),s=Object(m.useRef)(null),d=Object(m.useState)(),h=Object(c.a)(d,2),u=h[0],p=h[1],b=Object(m.useState)(),j=Object(c.a)(b,2),g=j[0],f=j[1],O=Object(m.useState)(i.get("fileName")||""),v=Object(c.a)(O,2),x=v[0],y=v[1],w=Object(m.useState)(),C=Object(c.a)(w,2),N=C[0],S=C[1],$=Object(m.useState)(),I=Object(c.a)($,2),R=I[0],T=I[1],z=Object(m.useState)(),E=Object(c.a)(z,2),L=E[0],P=E[1];return Object(m.useEffect)((function(){y(l||"")}),[l]),Object(m.useEffect)((function(){var e="log_index";S("Loading..."),r?(e=decodeURIComponent(r),p(new URL(e).origin),o&&(e+=decodeURIComponent(o))):p(void 0),k(e).then((function(e){S(e||"(null)")})).catch((function(){S("Failed to load")}))}),[r,o]),{log:N,origin:u,host:r,path:o,el:s,search:g,setSearch:f,theme:n,fileName:x,setFileName:y,startTime:R,setStart:T,endTime:L,setEnd:P}}(e),r=a.log,O=a.origin,v=a.path,x=a.el,y=a.search,N=a.setSearch,S=a.theme,$=a.fileName,I=a.setFileName,R=a.startTime,T=a.setStart,z=a.endTime,E=a.setEnd,L="#/log/";if(O&&v){var P=decodeURIComponent(v).split("/");P.pop(),P.length>1&&(L+=encodeURIComponent(O),L+="/",L+=encodeURIComponent(P.join("/")))}return Object(w.jsx)("div",{className:t.root,ref:x,children:Object(w.jsxs)(f.a,{title:"Logs Viewer",children:[Object(w.jsxs)(o.a,{children:[!O&&Object(w.jsx)("p",{children:"Please choose an url to get log path"}),O&&Object(w.jsxs)("p",{children:["Now Path: ",O,decodeURIComponent(v||"")]}),O&&Object(w.jsxs)("div",{children:[Object(w.jsx)(i.a,{variant:"contained",href:L,className:t.search,children:"Back To ../"}),"object"===typeof r&&Object(w.jsx)(g.a,{defaultValue:$,label:"File Name",onChange:function(e){I(e)}})]})]}),Object(w.jsxs)(o.a,{children:["object"===typeof r&&Object(w.jsx)(l.a,{children:r.filter((function(e){var t;return!$||(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.includes($))})).map((function(e){return Object(w.jsx)(s.a,{children:Object(w.jsx)("a",{href:"#/log/".concat(O?"".concat(encodeURIComponent(O),"/"):"").concat(encodeURIComponent(e.href)),children:e.name})},e.name)}))}),"string"===typeof r&&"Loading..."!==r&&Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{children:[Object(w.jsx)(d.a,{className:t.search,label:"Keyword",InputProps:{onChange:function(e){var t=e.target.value;N(Object(n.a)(Object(n.a)({},y),{},{keywords:t}))},type:"",endAdornment:Object(w.jsx)(h.a,{position:"end",children:Object(w.jsx)(b.a,{})})}}),Object(w.jsx)(d.a,{className:t.search,label:"Line Number",InputProps:{onChange:function(e){var t=e.target.value;N(Object(n.a)(Object(n.a)({},y),{},{lineNumber:t}))},type:"",endAdornment:Object(w.jsx)(h.a,{position:"end",children:Object(w.jsx)(b.a,{})})}}),Object(w.jsx)(d.a,{className:t.search,label:"Font Size",InputProps:{onChange:function(e){var t=e.target.value;N(Object(n.a)(Object(n.a)({},y),{},{fontSize:Number(t)}))},type:""}}),Object(w.jsx)(d.a,{id:"datetime-local",label:"Start Time",type:"datetime-local",value:R,className:t.search,onChange:function(e){T(e.target.value)},InputLabelProps:{shrink:!0}}),Object(w.jsx)(d.a,{label:"End Time",type:"datetime-local",value:z,className:t.search,onChange:function(e){E(e.target.value)},InputLabelProps:{shrink:!0}}),Object(w.jsxs)("div",{className:t.search,children:["Reverse:"," ",Object(w.jsx)(u.a,{checked:null===y||void 0===y?void 0:y.revert,onChange:function(e,t){return N(Object(n.a)(Object(n.a)({},y),{},{revert:t}))}}),Object(w.jsx)(i.a,{className:t.search,variant:"contained",onClick:function(){T(""),E("")},children:"Reset Time"})]})]}),Object(w.jsx)(j.a,{height:600,theme:S,revert:null===y||void 0===y?void 0:y.revert,keywords:null===y||void 0===y?void 0:y.keywords,focusLine:Number(null===y||void 0===y?void 0:y.lineNumber)||void 0,fontSize:(null===y||void 0===y?void 0:y.fontSize)||12,content:r,language:"prolog",startTime:R,endTime:z})]}),"Loading..."===r&&Object(w.jsxs)("div",{children:[Object(w.jsx)("br",{}),Object(w.jsx)(p.a,{})]})]})]})})}}}]);
//# sourceMappingURL=9.60601e7d.chunk.js.map