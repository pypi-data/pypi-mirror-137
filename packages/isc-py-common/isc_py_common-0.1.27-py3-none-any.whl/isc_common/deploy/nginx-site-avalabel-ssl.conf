server {
       listen PORT;

       server_name SERVERNAME ssl http2;

       access_log /var/log/USERNAME/access.log; #mkdir dir first
       error_log /var/log/USERNAME/error.log error;

       ssl_certificate /home/USERNAME/ssl/CRT-FILE;
       ssl_certificate_key /home/USERNAME/ssl/KEY_FILE;

       ssl_session_cache shared:SSL:10m;
       ssl_session_timeout 10m;
       keepalive_timeout 70;

       ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
       ssl_prefer_server_ciphers on;

       ssl_stapling on;
       ssl_trusted_certificate /home/USERNAME/ssl/CA-FILE;

       resolver RESOLVER;

       location /static {
               alias /home/USERNAME/sites/SITENAME/static;
       }

       location / {
               proxy_set_header Host $host;
               proxy_pass http://unix:/tmp/SITENAME.socket;

               proxy_http_version 1.1;
               proxy_set_header Upgrade $http_upgrade;
               proxy_set_header Connection "upgrade";
               proxy_set_header X-Real-IP $remote_addr;
               proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
               proxy_set_header X-Forwarded-Proto $scheme;
               proxy_set_header X-Forwarded-Host $host;
               proxy_set_header X-Forwarded-Port $server_port;
       }
}
