{"version":3,"sources":["style.module.scss","SendGeometry.tsx","index.tsx"],"names":["module","exports","SpecialSync","props","render","className","styles","poCheckboxLabel","poCheckbox","type","defaultChecked","state","onChange","_onChange","disabled","onFocus","_onFocus","onBlur","_onBlur","poCheckboxSpan","_genToken","modelType","isChecked","Promise","resolve","reject","window","parent","chrome","webview","hostObjects","sync","connection","PassToken","then","result","Streamlit","setComponentValue","event","check","target","checked","setState","isFocused","args","initialState","genPollinationToken","StreamlitComponentBase","withStreamlitConnection","ReactDOM","StrictMode","SendGeometry","document","getElementById"],"mappings":"gIACAA,EAAOC,QAAU,CAAC,gBAAkB,+BAA+B,eAAiB,8BAA8B,WAAa,4B,4KCuBzHC,E,kDAEJ,WAAmBC,GAAwB,IAAD,uBACxC,cAAMA,IAiBDC,OAAS,WACd,OACE,2BAAOC,UAAWC,IAAOC,iBACvB,2BACEF,UAAWC,IAAOE,WAClBC,KAAK,WACLC,eAAgB,EAAKC,MAAMD,eAC3BE,SAAU,EAAKC,UACfC,SAAU,EAAKX,MAAMW,SACrBC,QAAS,EAAKC,SACdC,OAAQ,EAAKC,UACf,0BAAMb,UAAWC,IAAOa,gBAAxB,UA7BoC,EAoClCC,UAAY,SAACC,GAanB,GAAI,EAAKV,MAAMW,UAVC,IAAIC,SAAQ,SAASC,EAASC,GAI1CD,EAHmBE,OAAOC,OAAOC,OAAOC,QAAQC,YAC7CC,KAAKC,WAAWC,UAAUZ,OASTa,MAAK,SAAAC,GACzBC,IAAUC,kBAAkBF,OAnDQ,EAwDlCtB,UAAY,SAACyB,GACnB,IAAIC,EAAQD,EAAME,OAAOC,QACzB,EAAKC,SAAS,CAACpB,UAAWiB,KA1Dc,EA6DlCvB,SAAW,WACjB,EAAK0B,SAAS,CAAEC,WAAW,KA9Da,EAiElCzB,QAAU,WAChB,EAAKwB,SAAS,CAAEC,WAAW,KA9D3B,IAAMjC,EAAiB,EAAKP,MAAMyC,KAAX,eAEjBC,EAAe,CACnBnC,eAAgBA,EAChBY,YAAWZ,GAR2B,OAWxC,EAAKC,MAAL,eACKkC,GAGLnB,OAAOC,OAAOmB,oBAAsB,EAAK1B,UAfD,E,uBAFlB2B,KAwEXC,cAAwB9C,GC5FvC+C,IAAS7C,OACP,kBAAC,IAAM8C,WAAP,KACE,kBAACC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.e4f5f8d4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"poCheckboxLabel\":\"style_poCheckboxLabel__2IHB4\",\"poCheckboxSpan\":\"style_poCheckboxSpan__ltXcy\",\"poCheckbox\":\"style_poCheckbox__3Q56z\"};","import {\n  ComponentProps,\n  withStreamlitConnection,\n  StreamlitComponentBase,\n  Streamlit,\n} from 'streamlit-component-lib'\nimport React, { \n  ReactNode } from 'react'\n\nimport styles from './style.module.scss';\n\ninterface State {\n  defaultChecked: boolean\n  isFocused: boolean\n  isChecked: boolean\n}\n\ndeclare global {\n  interface Window {\n    chrome: any\n    genPollinationToken: any\n  }\n}\n\nclass SpecialSync extends StreamlitComponentBase<State> {\n\n  public constructor(props: ComponentProps) {\n    super(props)\n\n    // Values from user input\n    const defaultChecked = this.props.args['defaultChecked'] as boolean\n\n    const initialState = {\n      defaultChecked: defaultChecked,\n      isChecked: defaultChecked ? true : false\n    } as State\n\n    this.state = {\n      ...initialState\n    };\n    \n    window.parent.genPollinationToken = this._genToken;\n  }\n\n  public render = (): ReactNode => {\n    return (\n      <label className={styles.poCheckboxLabel}>\n        <input \n          className={styles.poCheckbox}\n          type='checkbox' \n          defaultChecked={this.state.defaultChecked} \n          onChange={this._onChange} \n          disabled={this.props.disabled}\n          onFocus={this._onFocus}\n          onBlur={this._onBlur}/>\n        <span className={styles.poCheckboxSpan}>\n          Sync\n        </span>\n      </label>\n    )\n  }\n\n  private _genToken = (modelType: string) \n    : void => {\n    function getResult() {\n      var promise = new Promise(function(resolve, reject) {\n          var sync_token = window.parent.chrome.webview.hostObjects\n          .sync.connection.PassToken(modelType);\n        let result = sync_token;\n        resolve(result);\n      });\n\n      return promise;\n    };\n\n    if (this.state.isChecked) {\n      let res = getResult().then(result => {\n        Streamlit.setComponentValue(result);\n      });\n    }\n  }\n\n  private _onChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\n    let check = event.target.checked;\n    this.setState({isChecked: check})\n  }\n\n  private _onFocus = (): void => {\n    this.setState({ isFocused: true })\n  }\n\n  private _onBlur = (): void => {\n    this.setState({ isFocused: false })\n  }\n}\n\nexport default withStreamlitConnection(SpecialSync)\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport SendGeometry from \"./SendGeometry\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <SendGeometry />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}