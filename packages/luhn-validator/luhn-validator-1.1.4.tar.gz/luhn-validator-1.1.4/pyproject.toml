[build-system]
requires = ["setuptools>=42", "wheel"]
build-backend = "setuptools.build_meta"

[tool.pytest.ini_options]
minversion = "6.0"
addopts = "-ra -q"
testpaths = ["tests"]

[tool.coverage.run]
branch = true
source = ["luhn_validator"]

[tool.coverage.paths]
source = ["src"]

[tool.black]
line-length = 80
target-version = ["py36", "py37", "py38", "py39", "py310"]

[tool.isort]
profile = "black"

[tool.pylint.messages_control]
disable = ["bad-whitespace", "bad-continuation"]  # recommended by Black

[tool.pylint.reports]
score = false

[tool.pylint.format]
max-line-length = 80
expected-line-ending-format = "LF"

[tool.pylint.master]
ignore = ["tests"]

[tool.taskipy.tasks]
test_all = "pytest tests"
test_cov = "pytest --cov --cov-report=term-missing --cov-fail-under=100"
test_cov_html = "task test_cov --cov-report=html"
test = "task test_cov"
lint_isort = "isort --check-only src tests"
lint_black = "black --check --quiet src tests"
lint_pylint = "pylint src tests"
lint_mypy = "mypy src"
lint = "task lint_isort && task lint_black && task lint_pylint && task lint_mypy"
format = "isort src tests && black src tests"
update = "pip install -U -r requirements-dev.txt"
